
<p align="center"> Министерство образования Республики Беларусь</p>
<p align="center">Учреждение образования</p>
<p align="center">“Брестский Государственный Технический университет”</p>
<p align="center">Кафедра ИИТ</p>
<br><br><br><br><br><br><br>
<p align="center">Лабораторная работа №3</p>
<p align="center">По дисциплине “Теория и методы автоматического управления”</p>
<p align="center">Тема: “Работа с контроллером AXC F 2152”</p>
<br><br><br><br><br>
<p align="right">Выполнил:</p>
<p align="right">Студент 3 курса</p>
<p align="right">Группы АС-65</p>
<p align="right">Гуща И.В.</p>
<p align="right">Проверил:</p>
<p align="right">Иванюк Д.С.</p>
<br><br><br><br><br><br><br><br>
<p align="center">Брест 2025</p>

---



























# Общее задание #
1. Ознакомиться с общей информацией о платформе **PLCnext** [здесь](https://www.plcnext.help/te/About/Home.htm).

2. Изучить [руководство](https://github.com/savushkin-r-d/PLCnext-howto/tree/master/HowTo%20build%20program%20Hello%20PLCnext).

3. Используя **Visual Code** создать тестовый проект *"Hello PLCnext from AS0xxyy!"*, собрать его и продемонстрировать работоспособность на тестовом контроллере.

4. Написать отчет по выполненной работе в .md формате (readme.md) и с помощью pull 
request разместить его в следующем каталоге: trunk\as000xxyy\task_03\doc.## Выполнение работы

# Ход работы
## 1.
PLCnext Technology – это экосистема Phoenix Contact для промышленной автоматизации.

В лабораторной работе используется контроллер AXCF 2152. Он имеет интерфейс терминала Linux. На данном контроллере происходит запуск.
## 2.
[Руководство](https://github.com/savushkin-r-d/PLCnext-howto/tree/master/HowTo%20build%20program%20Hello%20PLCnext) изучено.
## 3.
### Клонирование репозитория
Сборка проекта выполнялась с использованием 
**Visual Studio**. Необходимо было склонировать
удаленный [репозиторий](https://github.com/savushkin-r-d/PLCnext-howto.git), открыть папку с исходным кодом *HowTo build program Hello PLCnext\Hello-PLCnext*.
### Установка SDK. 
При помощи установщика необходимо было установить PLCnext_Toolchain.
Использовалась версия 2024.6.
После установки тулчейна требовалось скачать архив с SDK требуемой версии.
Так как у данных программ присутствует совместимость с разными версиями, была установлена
SDK версии 2021_6. Архив был помещен по адресу *C:\CLI\SDKs\AXCF2152\2021_6* на локальном
компьютере, так как именно такое размещение ожидается программой.
По данному адресу после разархивации должны получиться 6 файлов и 8 каталогов. Обязательно нужно
убедиться в наличии файла *toolchain.cmake* и папки *sysroots*, так как чаще всего из-за них происходили ошибки.
### Сборка
Для корректной сборки по версию 2021_6 требовалось изменений файла *CMakePresets.json*.
Изменения касались версии, так как в данном файле версия 2021_0, а SDK для 2021_6. После изменения файла требовалось 
перезайти в среду разработки для повторного запуска cmake. В результате получили сообщение ***1> Создание CMake завершено.***

После этого собрали весь проект (Ctrl+Shift+B) и получили бинарный файл, который впоследствии необходим для передачи на тестовый контроллер.

Находиться данный файл по адресу *C:\Users\Brest\PLCnext\Hello-PLCnext\bin\AXCF2152_2021.6.0 (21.6.0.46)*. В соответствии с заданием стандартное название изменено на ***Hello PLCnext from AS06503***. 
Также собран файл с название *hello_Vanya*, который был передан на контроллер. Это сокращенное имя файла для ускорения написания команд запуска.
### Запуск на контроллере
Для запуска на тестовом контроллере были дополнительно установлены программы PuTTY и WinSCP. 
Они находятся в свободном доступе в сети интернет, поэтому трудностей с их установкой не возникало.

Перед подключением к контроллеру необходимо произвести настройку IP-адреса компьютера для Ethernet-порта.
Для этого заходим в параметры сети -> Ethernet -> настройка параметров адаптера. Там заходим в свойства Ethernet 
и для IPv4 устанавливаем следующий статический IP-адрес **192.168.1.1**.

Контроллер необходимо подключить к сети, а также включить питание (нажать на зеленую кнопку в верхней части).
С использованием Ethernet-кабеля контроллер подключается к компьютеру.

В командной строке вводится команда *ipconfig* для проверки наличия подключенных устройств. Если данный порт активен, 
необходимо проверить возможность подключения к контроллеру командой *ping 192.168.1.10* (ip контроллера). При успешном обмене файлами можно переходить к соединению с сонтроллером.
В программе PuTTY вводится соответствующий IP контроллера, далее - **Open**.

![1](../img/1.png)

После этого происходит авторизация. Имя пользователя - admin, пароль указан на верхней части контроллера. Мы попадаем в терминал устройства, где можем вводить необходимые комнады.

В программе WinSCP также выполняем подключение и авторизацию. 

![2](../img/2.png)

С её помощью мы получаем доступ к файловой системе двух устройств и можем обмениваться файлами. Интерфейс очень похож на TotalCommander и интуитивно понятен.

После того, как файл находится на контроллере, необходимо в программе PuTTY командами перейти в каталог к файлу, и выполнить его. Команда для запуска исполнения и результат вывода представлены ниже.
```bash
admin@axcf2152:/opt/plcnext$ ./hello_Vanya
Hello PLCnext from as06503

Idet Shtirlic po ulice. Uvidel luzhu.
- Pohren, - podumal Shtirlic.
- Po sheyu, - okazalas luzha.admin@axcf2152:/opt/plcnext$
```

**Вывод:** Контроллер AXCF2152 по своей сути является ЭВМ, к которой можно подключиться и запустить исполнение файлов. В данной работе продемонстрированы возможности по консольному выводу текстового сообщения с использование данного контроллера.